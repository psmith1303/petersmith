[
  {
    "author": {
      "name": "Evgeny Kuznetsov",
      "photo": "https://webmention.io/avatar/evgenykuznetsov.org/3b455ea772635831bb966a96959ad5acc7a16b65e79464111c4ed0e6d6db66a4.jpg",
      "type": "card",
      "url": "https://evgenykuznetsov.org"
    },
    "content": {
      "html": "<p>Wow! I’m glad to know my little tools are of use to someone else.</p>\n<p>I wonder just how different your directory structure is from mine. Perhaps, we could add an option or two to <code>webmention.io-backup</code> to make your life easier? ;-)  Drop me a line if you’re interested, we’ll try to figure something out.</p>\n<p>Also, there’s a workaround I use to avoid <code>sed</code>ing the JSON for dashes: a parsed JSON is (obviously) a map in Hugo, so you can get the values of its keys by <code>index</code>ing them. And since <code>index</code> takes a string for the key name, dashes can be used freely, too. So, while <code>.Site.data.wm-target</code> fails, <code>index .Site.data \"wm-target\"</code> can be used to achieve the same goal successfully.</p>",
      "text": "Wow! I’m glad to know my little tools are of use to someone else.\nI wonder just how different your directory structure is from mine. Perhaps, we could add an option or two to webmention.io-backup to make your life easier? ;-)  Drop me a line if you’re interested, we’ll try to figure something out.\nAlso, there’s a workaround I use to avoid seding the JSON for dashes: a parsed JSON is (obviously) a map in Hugo, so you can get the values of its keys by indexing them. And since index takes a string for the key name, dashes can be used freely, too. So, while .Site.data.wm-target fails, index .Site.data \"wm-target\" can be used to achieve the same goal successfully."
    },
    "in_reply_to": "https://petersmith.org/blog/2022/01/10/third-steps-to-indieweb/",
    "published": "2022-01-10T08:34:35+03:00",
    "rels": {
      "canonical": "https://evgenykuznetsov.org/en/reactions/2022/re-010053443/"
    },
    "syndication": [
      "https://twitter.com/nekr0z/status/1480417306471714824"
    ],
    "type": "entry",
    "url": "https://evgenykuznetsov.org/en/reactions/2022/re-010053443/",
    "wm_id": 1329112,
    "wm_private": false,
    "wm_property": "in-reply-to",
    "wm_received": "2022-01-10T05:52:46Z",
    "wm_source": "https://evgenykuznetsov.org/en/reactions/2022/re-010053443/",
    "wm_target": "https://petersmith.org/blog/2022/01/10/third-steps-to-indieweb/"
  },
  {
    "author": {
      "name": "Evgeny Kuznetsov",
      "photo": "https://webmention.io/avatar/evgenykuznetsov.org/3b455ea772635831bb966a96959ad5acc7a16b65e79464111c4ed0e6d6db66a4.jpg",
      "type": "card",
      "url": "https://evgenykuznetsov.org"
    },
    "content": {
      "html": "<p>I see.</p>\n<p>The reason <code>webmention.io-backup</code> is failing to correctly work your directory structure is that it expects the directory structure to mirror the URL path, that is, it expects <code>petersmith.org/blog/2022/01/10/third-steps-to-indieweb/</code> to reside in <code>content/blog/2022/01/10/third-steps-to-indieweb/</code>. In your setup, that directory doesn’t exist; instead, <code>content/blog/20220110-third-steps-to-indieweb</code> is used. I suppose, you are using <code>permalinks</code> <a href=\"https://gohugo.io/content-management/urls/\">config option</a> to achieve that? If so, that’s quite a problem, because in this case <code>webmention.io-backup</code> can not really infer the directory name, since the URL is formed based on the <code>date</code> parameter and not based on the first 8 digits of the directory name, right?</p>\n<p>I mean, I can make a patch for <code>webmention.io-backup</code> to work on your directory structure, it’s fairly trivial. But I’d be reluctant to incorporate it in the main branch, because it wouldn’t be flexible at all.</p>",
      "text": "I see.\nThe reason webmention.io-backup is failing to correctly work your directory structure is that it expects the directory structure to mirror the URL path, that is, it expects petersmith.org/blog/2022/01/10/third-steps-to-indieweb/ to reside in content/blog/2022/01/10/third-steps-to-indieweb/. In your setup, that directory doesn’t exist; instead, content/blog/20220110-third-steps-to-indieweb is used. I suppose, you are using permalinks config option to achieve that? If so, that’s quite a problem, because in this case webmention.io-backup can not really infer the directory name, since the URL is formed based on the date parameter and not based on the first 8 digits of the directory name, right?\nI mean, I can make a patch for webmention.io-backup to work on your directory structure, it’s fairly trivial. But I’d be reluctant to incorporate it in the main branch, because it wouldn’t be flexible at all."
    },
    "in_reply_to": "https://petersmith.org/mentions/2022/01/10/reply-to-https-evgenykuznetsov-org-en-reactions-2022-re-010053442/",
    "published": "2022-01-10T20:47:21+03:00",
    "rels": {
      "canonical": "https://evgenykuznetsov.org/en/reactions/2022/re-010174726/"
    },
    "type": "entry",
    "url": "https://evgenykuznetsov.org/en/reactions/2022/re-010174726/",
    "wm_id": 1329330,
    "wm_private": false,
    "wm_property": "in-reply-to",
    "wm_received": "2022-01-10T18:00:47Z",
    "wm_source": "https://evgenykuznetsov.org/en/reactions/2022/re-010174726/",
    "wm_target": "https://petersmith.org/mentions/2022/01/10/reply-to-https-evgenykuznetsov-org-en-reactions-2022-re-010053442/"
  },
    {
    "author": {
      "name": "Evgeny Kuznetsov",
      "photo": "https://webmention.io/avatar/evgenykuznetsov.org/3b455ea772635831bb966a96959ad5acc7a16b65e79464111c4ed0e6d6db66a4.jpg",
      "type": "card",
      "url": "https://evgenykuznetsov.org"
    },
    "content": {
      "html": "<p>To accomodate a complex layout like this, <code>webmention.io-backup</code> would have to parse the config file and look up the <code>date</code> field in all the content files' front matter to figure out which directory corresponds to which website page (basically, the way Hugo does it when it creates the pages in the first place). Programming all this is not impossible, of course, but it would be quite an endeavor that I’m not sure I want to embark on, especially considering the fact that one’s <code>config.toml</code> may contain something along the lines of</p>\n<pre><code><span>[</span><span>frontmatter</span><span>]</span>\n  <span>date</span> <span>=</span> <span>[</span><span>':git'</span><span>,</span> <span>'lastmod'</span><span>]</span>\n</code></pre><p>I don’t want to open that can of worms!</p>\n<blockquote>\n<p>These ‘mentions’ on my side aren’t being threaded back to the original post.</p>\n</blockquote>\n<p>Beware, this is <a href=\"https://indieweb.org/Salmention\">Salmention</a> territory you’re stepping into. There be dragons.</p>",
      "text": "To accomodate a complex layout like this, webmention.io-backup would have to parse the config file and look up the date field in all the content files' front matter to figure out which directory corresponds to which website page (basically, the way Hugo does it when it creates the pages in the first place). Programming all this is not impossible, of course, but it would be quite an endeavor that I’m not sure I want to embark on, especially considering the fact that one’s config.toml may contain something along the lines of\n[frontmatter]\n  date = [':git', 'lastmod']\nI don’t want to open that can of worms!\n\nThese ‘mentions’ on my side aren’t being threaded back to the original post.\n\nBeware, this is Salmention territory you’re stepping into. There be dragons."
    },
    "in_reply_to": "https://petersmith.org/mentions/2022/01/11/reply-to-https-evgenykuznetsov-org-en-reactions-2022-re-010174726/",
    "published": "2022-01-11T15:28:55+03:00",
    "rels": {
      "canonical": "https://evgenykuznetsov.org/en/reactions/2022/re-011120357/"
    },
    "type": "entry",
    "url": "https://evgenykuznetsov.org/en/reactions/2022/re-011120357/",
    "wm_id": 1329809,
    "wm_private": false,
    "wm_property": "in-reply-to",
    "wm_received": "2022-01-11T12:31:10Z",
    "wm_source": "https://evgenykuznetsov.org/en/reactions/2022/re-011120357/",
    "wm_target": "https://petersmith.org/mentions/2022/01/11/reply-to-https-evgenykuznetsov-org-en-reactions-2022-re-010174726/"
  },
  {
    "timestamp": "2022-01-13T01:35:19Z"
  }
]
